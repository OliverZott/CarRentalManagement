@page "/customers/create"

@inject HttpClient _httpClient
@inject NavigationManager _navigationManager


<h3 class="card-title">Create New Customer</h3>
<hr />
<br />

<FormComponent Customer="_customer" ButtonText="Create Customer" OnValidSubmit="CreateNewCustomer"></FormComponent>


@code {

    private readonly Customer _customer = new Customer();

    protected override async Task OnInitializedAsync()
    {
    }

    private async Task CreateNewCustomer()
    {
        await _httpClient.PostAsJsonAsync(Endpoints.CustomersEndpoint, _customer);
        _navigationManager.NavigateTo("/customers");
    }

}
